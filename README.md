# OsuScheduleApi

Api для работы с расписанием ОГУ.

## Установка:

#### Скопировать репозиторий:

git clone https://github.com/KalbinVV/OsuScheduleApi.git

#### Перейти в каталог:

cd OsuScheduleApi

### Через Docker:

#### Создать изображение:

docker build . --tag osu_api:latest

#### Развернуть контейнер:

docker run -i -t -p 8000:8000 --name osu_api osu_api


### Без установки Docker:
Необходимо установить Python 3.11

#### Установка необходимых библиотек:

pip install -r requirements.txt

pip install uvicorn

pip install dependencies/UniversalCache-0.0.1.tar.gz

#### Запуск сервера Uvicorn:

uvicorn main:app

### Get методы:

#### /departments_dict
Возвращает словарь доступных факультетов/институтов, где:

Ключ - название факультета/института

Значение - уникальный идентификатор данного факультета/института

#### /departments_streams_dict

Возвращает словарь доступных потоков для данного факультета/института, где:

Ключ - название потока

Значение - уникальный идентификатор данного потока

На входе ожидается уникальный идентификатор факультета/института

#### /groups_dict
Возвращает словарь доступных групп для данного факультета/института и потока, где:

Ключ - название группы

Значение - уникальный идентификатор данной группы

На входе ожидается уникальный идентификатор факультета/института и потока

#### /schedule
Возвращает словарь всего доступного расписания для данной группы, где:

Ключ - дата занятия

Значение - список объектов ScheduleRecord

На входе ожидается уникальный идентификатор группы

#### /schedule_today
Возвращает расписание на сегодня

Результат - список объектов ScheduleRecord

На входе ожидается уникальный идентификатор группы

#### /schedule_tomorrow
Возвращает расписание на завтра

Результат - список объектов ScheduleRecord

На входе ожидается уникальный идентификатор группы

#### /schedule_week
Возвращает словарь расписания на неделю для данной группы, где:

Значение - список объектов ScheduleRecord

На входе ожидается уникальный идентификатор группы


#### /schedule_at
Возвращает расписание на заданный день

Значение - список объектов ScheduleRecord

На входе ожидается уникальный идентификатор группы и день в формате "День.Месяц.Год"

### Зависимости:
fastapi~=0.103.2

requests~=2.31.0

cachetools~=5.3.1

beautifulsoup4~=4.12.2

lxml~=4.9.3

UniversalCache~=0.0.1 (https://github.com/KalbinVV/UniversalCache)